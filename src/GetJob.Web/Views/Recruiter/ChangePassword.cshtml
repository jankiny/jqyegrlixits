@model ChangePasswordViewModel
@{
    ViewBag.Title = "密码修改";
    Layout = "_Company";
}

<form asp-controller="Recruiter" asp-action="ChangePassword">
    <div asp-validation-summary="All" class="text-danger"></div>
    <div class="form-group row">
        <label class="col-sm-2 col-form-label" asp-for="OldPassword"></label>
        <div class="col-sm-10">
            <input type="password" id="oldPassword" class="form-control" asp-for="OldPassword" />
            <span asp-validation-for="OldPassword" class="text-danger"></span>
        </div>
    </div>
    <div class="form-group row">
        <label class="col-sm-2 col-form-label" asp-for="NewPassword"></label>
        <div class="col-sm-10">
            <input type="password" id="newPassword" class="form-control" oninput="PasswordChecking()" asp-for="NewPassword" />
            <span asp-validation-for="NewPassword" class="text-danger"></span>
        </div>
    </div>
    <div class="form-group row">
        <label class="col-sm-2 col-form-label">确认密码</label>
        <div class="col-sm-10">
            <input type="password" id="confirmPassword" class="form-control" oninput="PasswordConfirming()" />
            <div class="invalid-feedback">
                两次输入的密码不相等
            </div>
        </div>
    </div>

    <div class="form-group row justify-content-end">
        <button type="submit" class="btn btn-primary px-4">保存</button>
    </div>
</form>
<script>
    function PasswordChecking() {
        var password = $("#newPassword").val();
        console.log(password.length);
        if (password.length >= 6) {
            $("#newPassword").addClass('is-valid');
        }
        else {
            $("#newPassword").removeClass('is-valid');
        }
    }
    function PasswordConfirming() {
        var newPassword = $('#newPassword').val();
        var confirmPassword = $('#confirmPassword').val();
        if (newPassword == confirmPassword) {
            $('#confirmPassword').removeClass('is-invalid');
            $('#confirmPassword').addClass('is-valid');
        }
        else {
            $('#confirmPassword').removeClass('is-valid');
            $('#confirmPassword').addClass('is-invalid');
        }
    }
</script>